{"ast":null,"code":"var _jsxFileName = \"/home/megamind/lighthouse/allforlife/allforlife-1/client/src/components/HomeProposalItem.js\",\n    _s = $RefreshSig$();\n\nimport \"./Home.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from 'react';\nimport Follower from './Follower';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeProposalItem(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(0);\n  const [followers, setFollowers] = useState([]);\n  const [filter, setFilter] = useState([null, 0, 0, 0, 0, \"DESC\"]); // load the jobs posting from api with a specific filter\n\n  useEffect(() => {\n    axios.get(`http://localhost:8010/api/jobpost`, {\n      params: {\n        filter: filter\n      }\n    }).then(res => {\n      setData(paginate(res.data));\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (loading) return;\n    setFollowers(data[page]);\n  }, [loading, page]);\n\n  const nextPage = () => {\n    setPage(oldPage => {\n      let nextPage = oldPage + 1;\n\n      if (nextPage > data.length - 1) {\n        nextPage = 0;\n      }\n\n      return nextPage;\n    });\n  };\n\n  const prevPage = () => {\n    setPage(oldPage => {\n      let prevPage = oldPage - 1;\n\n      if (prevPage < 0) {\n        prevPage = data.length - 1;\n      }\n\n      return prevPage;\n    });\n  };\n\n  const handlePage = index => {\n    setPage(index);\n  };\n\n  const paginate = followers => {\n    const itemsPerPage = 2;\n    const numberOfPages = Math.ceil(followers.length / itemsPerPage);\n    const newFollowers = Array.from({\n      length: numberOfPages\n    }, (_, index) => {\n      const start = index * itemsPerPage;\n      return followers.slice(start, start + itemsPerPage);\n    });\n    return newFollowers;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"followers\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"followers-container\",\n        children: followers.map(follower => {\n          return /*#__PURE__*/_jsxDEV(Follower, { ...follower\n          }, follower.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"followers-btn-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"followers-prev-btn\",\n          onClick: prevPage,\n          children: \"prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), data.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `followers-page-btn ${index === page ? 'followers-active-btn' : null}`,\n            onClick: () => handlePage(index),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\u25CF \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 22\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"followers-next-btn\",\n          onClick: nextPage,\n          children: \"next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HomeProposalItem, \"2QpCG7NhogkO2l8N9izg8auWqy4=\");\n\n_c = HomeProposalItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeProposalItem\");","map":{"version":3,"sources":["/home/megamind/lighthouse/allforlife/allforlife-1/client/src/components/HomeProposalItem.js"],"names":["axios","React","useState","useEffect","Follower","HomeProposalItem","props","data","setData","loading","setLoading","page","setPage","followers","setFollowers","filter","setFilter","get","params","then","res","paginate","nextPage","oldPage","length","prevPage","handlePage","index","itemsPerPage","numberOfPages","Math","ceil","newFollowers","Array","from","_","start","slice","map","follower","id","item"],"mappings":";;;AAAA,OAAO,YAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAIA,eAAe,SAASC,gBAAT,CAA0BC,KAA1B,EAAgC;AAAA;;AAE7C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AAGA,QAAK,CAACa,MAAD,EAAQC,SAAR,IAAqBd,QAAQ,CAAC,CAAC,IAAD,EAAM,CAAN,EAAQ,CAAR,EAAU,CAAV,EAAY,CAAZ,EAAc,MAAd,CAAD,CAAlC,CAR6C,CAS7C;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACVH,IAAAA,KAAK,CAACiB,GAAN,CAAW,mCAAX,EAA8C;AAAEC,MAAAA,MAAM,EAAE;AAACH,QAAAA,MAAM,EAACA;AAAR;AAAV,KAA9C,EAA0EI,IAA1E,CAA+EC,GAAG,IAAG;AACnFZ,MAAAA,OAAO,CAACa,QAAQ,CAACD,GAAG,CAACb,IAAL,CAAT,CAAP;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAHD;AAKD,GANI,EAMH,EANG,CAAT;AAOAP,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,OAAJ,EAAa;AACXK,IAAAA,YAAY,CAACP,IAAI,CAACI,IAAD,CAAL,CAAZ;AACH,GAHQ,EAGN,CAACF,OAAD,EAAUE,IAAV,CAHM,CAAT;;AAKI,QAAMW,QAAQ,GAAG,MAAM;AACrBV,IAAAA,OAAO,CAAEW,OAAD,IAAa;AACnB,UAAID,QAAQ,GAAGC,OAAO,GAAG,CAAzB;;AACA,UAAID,QAAQ,GAAGf,IAAI,CAACiB,MAAL,GAAc,CAA7B,EAAgC;AAC9BF,QAAAA,QAAQ,GAAG,CAAX;AACD;;AACD,aAAOA,QAAP;AACD,KANM,CAAP;AAOD,GARD;;AASA,QAAMG,QAAQ,GAAG,MAAM;AACrBb,IAAAA,OAAO,CAAEW,OAAD,IAAa;AACnB,UAAIE,QAAQ,GAAGF,OAAO,GAAG,CAAzB;;AACA,UAAIE,QAAQ,GAAG,CAAf,EAAkB;AAChBA,QAAAA,QAAQ,GAAGlB,IAAI,CAACiB,MAAL,GAAc,CAAzB;AACD;;AACD,aAAOC,QAAP;AACD,KANM,CAAP;AAOD,GARD;;AAUA,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5Bf,IAAAA,OAAO,CAACe,KAAD,CAAP;AACD,GAFD;;AAIA,QAAMN,QAAQ,GAAIR,SAAD,IAAe;AAC9B,UAAMe,YAAY,GAAG,CAArB;AACA,UAAMC,aAAa,GAAGC,IAAI,CAACC,IAAL,CAAUlB,SAAS,CAACW,MAAV,GAAmBI,YAA7B,CAAtB;AAEA,UAAMI,YAAY,GAAGC,KAAK,CAACC,IAAN,CAAW;AAAEV,MAAAA,MAAM,EAAEK;AAAV,KAAX,EAAsC,CAACM,CAAD,EAAIR,KAAJ,KAAc;AACvE,YAAMS,KAAK,GAAGT,KAAK,GAAGC,YAAtB;AACA,aAAOf,SAAS,CAACwB,KAAV,CAAgBD,KAAhB,EAAuBA,KAAK,GAAGR,YAA/B,CAAP;AACD,KAHoB,CAArB;AAKA,WAAOI,YAAP;AACD,GAVD;;AAYA,sBACE;AAAA,2BACE;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,kBACGnB,SAAS,CAACyB,GAAV,CAAeC,QAAD,IAAc;AAC3B,8BAAO,QAAC,QAAD,OAAgCA;AAAhC,aAAeA,QAAQ,CAACC,EAAxB;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD,SAFA;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAMI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA,gCACE;AAAQ,UAAA,SAAS,EAAC,oBAAlB;AAAuC,UAAA,OAAO,EAAEf,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIGlB,IAAI,CAAC+B,GAAL,CAAS,CAACG,IAAD,EAAOd,KAAP,KAAiB;AACzB,8BACE;AAEE,YAAA,SAAS,EAAG,sBAAqBA,KAAK,KAAKhB,IAAV,GAAiB,sBAAjB,GAA0C,IAAK,EAFlF;AAGE,YAAA,OAAO,EAAE,MAAMe,UAAU,CAACC,KAAD,CAH3B;AAAA,mCAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALD,aACOA,KADP;AAAA;AAAA;AAAA;AAAA,kBADF;AASD,SAVA,CAJH,eAeE;AAAQ,UAAA,SAAS,EAAC,oBAAlB;AAAuC,UAAA,OAAO,EAAEL,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA8BL;;GAvFuBjB,gB;;KAAAA,gB","sourcesContent":["import \"./Home.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from 'react'\nimport Follower from './Follower'\n\n\n\nexport default function HomeProposalItem(props){\n  \n  const [data, setData] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [page, setPage] = useState(0)\n  const [followers, setFollowers] = useState([])\n\n\n  const[filter,setFilter] = useState([null,0,0,0,0,\"DESC\"]);\n  // load the jobs posting from api with a specific filter\n  useEffect(() => {\n        axios.get(`http://localhost:8010/api/jobpost`,{ params :{filter:filter}}).then(res =>{\n          setData(paginate(res.data));\n          setLoading(false)\n        });      \n    \n      },[]);\n  useEffect(() => {\n    if (loading) return\n      setFollowers(data[page])\n  }, [loading, page])\n    \n      const nextPage = () => {\n        setPage((oldPage) => {\n          let nextPage = oldPage + 1\n          if (nextPage > data.length - 1) {\n            nextPage = 0\n          }\n          return nextPage\n        })\n      }\n      const prevPage = () => {\n        setPage((oldPage) => {\n          let prevPage = oldPage - 1\n          if (prevPage < 0) {\n            prevPage = data.length - 1\n          }\n          return prevPage\n        })\n      }\n    \n      const handlePage = (index) => {\n        setPage(index)\n      }\n\n      const paginate = (followers) => {\n        const itemsPerPage = 2\n        const numberOfPages = Math.ceil(followers.length / itemsPerPage)\n      \n        const newFollowers = Array.from({ length: numberOfPages }, (_, index) => {\n          const start = index * itemsPerPage\n          return followers.slice(start, start + itemsPerPage)\n        })\n      \n        return newFollowers\n      }\n    \n      return (\n        <main>\n          <section className='followers'>\n            <div className='followers-container'>\n              {followers.map((follower) => {\n                return <Follower key={follower.id} {...follower} />\n              })}\n            </div>\n              <div className='followers-btn-container'>\n                <button className='followers-prev-btn' onClick={prevPage}>\n                  prev\n                </button>\n                {data.map((item, index) => {\n                  return (\n                    <button\n                      key={index}\n                      className={`followers-page-btn ${index === page ? 'followers-active-btn' : null}`}\n                      onClick={() => handlePage(index)}\n                    >\n                     <span> ● </span>\n                    </button>\n                  )\n                })}\n                <button className='followers-next-btn' onClick={nextPage}>\n                  next\n                </button>\n              </div>\n          </section>\n        </main>\n      )\n}"]},"metadata":{},"sourceType":"module"}